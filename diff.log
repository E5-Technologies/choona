diff --git a/src/components/main/TabNavigator/Home.js b/src/components/main/TabNavigator/Home.js
index b45f310..1fff4ec 100644
--- a/src/components/main/TabNavigator/Home.js
+++ b/src/components/main/TabNavigator/Home.js
@@ -136,7 +136,7 @@ const Home = props => {
   const [timeoutVar, setTimeoutVar] = useState(0);
   const [refreshing, setRefreshing] = useState(false);
   const [loadMoreVisible, setLoadMoreVisible] = useState(false);
-  const [visibleminiPlayer, setVisibleMiniPlayer] = useState(true);
+  const [visibleminiPlayer, setVisibleMiniPlayer] = useState(false);
   const [isShown, setIsShown] = useState(true);
 
   const [firstTimeModalShow, setFirstTimeModalShow] = useState(false);
@@ -268,6 +268,7 @@ const Home = props => {
     isFetchingNextPage,
     isRefetching,
     refetch,
+    hasNextPage,
   } = useInfiniteQuery(
     'homePosts',
     async ({pageParam = 1}) => {
@@ -1755,7 +1756,11 @@ const Home = props => {
                 showsVerticalScrollIndicator={false}
                 keyExtractor={item => item?._id}
                 ref={flatlistRef}
-                onEndReached={() => fetchNextPage()}
+                onEndReached={() => {
+                  if (hasNextPage && !isFetchingNextPage) {
+                    fetchNextPage();
+                  }
+                }}
                 onEndReachedThreshold={2}
                 contentContainerStyle={{paddingBottom: 45}}
                 refreshControl={
diff --git a/src/components/main/TabNavigator/Search.js b/src/components/main/TabNavigator/Search.js
index 182605f..c135005 100644
--- a/src/components/main/TabNavigator/Search.js
+++ b/src/components/main/TabNavigator/Search.js
@@ -530,6 +530,7 @@ const Search = props => {
   }
 
   function renderGenreData(data) {
+    // console.log(JSON.stringify(data?.item), 'jjjhjk');
     return (
       <TouchableOpacity
         style={
@@ -537,15 +538,19 @@ const Search = props => {
             //   margin: normalise(4),
           }
         }
-        onPress={() => {
-          props.navigation.navigate('GenreSongClicked', {
-            data: data.item._id,
-            ptID: 0,
-          });
-        }}>
+        // onPress={() => {
+        //   props.navigation.navigate('GenreSongClicked', {
+        //     data: data.item._id,
+        //     ptID: 0,
+        //   });
+        // }}
+        >
         <Image
           source={{
-            uri: data.item.song_image.replace('100x100bb.jpg', '500x500bb.jpg'),
+            // uri: data.item.song_image.replace('100x100bb.jpg', '500x500bb.jpg'),
+            // uri: props.registerType === 'spotify'? data?.item?.images[0]?.url : data?.item?.attributes?.artwork?.url?.replace('{w}x{h}', '500x500'),
+            uri: props.registerType === 'spotify'? data?.item?.track?.album?.images[1]?.url : data?.item?.attributes?.artwork?.url?.replace('{w}x{h}', '500x500'),
+
           }}
           style={{
             width: Math.floor(Dimensions.get('window').width / 2),
diff --git a/src/saga/SongSaga.js b/src/saga/SongSaga.js
index 7619d89..02b5e3e 100644
--- a/src/saga/SongSaga.js
+++ b/src/saga/SongSaga.js
@@ -1,4 +1,4 @@
-import { call, put, takeLatest, select } from 'redux-saga/effects';
+import {call, put, takeLatest, select} from 'redux-saga/effects';
 import {
   SAVE_SONGS_REQUEST,
   SAVE_SONGS_SUCCESS,
@@ -16,7 +16,13 @@ import {
   TOP_50_SONGS_SUCCESS,
   TOP_50_SONGS_FAILURE,
 } from '../action/TypeConstants';
-import { getApi, postApi } from '../utils/helpers/ApiRequest';
+import {
+  getApi,
+  getAppleDevelopersToken,
+  postApi,
+} from '../utils/helpers/ApiRequest';
+import {getSpotifyToken} from '../utils/helpers/SpotifyLogin';
+import {getAppleDevToken} from '../utils/helpers/AppleDevToken';
 
 const getItems = state => state.TokenReducer;
 
@@ -32,9 +38,9 @@ export function* saveSongAction(action) {
 
     const response = yield call(postApi, 'song/store', action.payload, Header);
 
-    yield put({ type: SAVE_SONGS_SUCCESS, data: response.data });
+    yield put({type: SAVE_SONGS_SUCCESS, data: response.data});
   } catch (error) {
-    yield put({ type: SAVE_SONGS_FAILURE, error: error });
+    yield put({type: SAVE_SONGS_FAILURE, error: error});
   }
 }
 
@@ -51,13 +57,13 @@ export function* savedSongListAction(action) {
     const response = yield call(
       postApi,
       'song/search',
-      { keyword: action.search },
+      {keyword: action.search},
       Header,
     );
 
-    yield put({ type: SAVED_SONGS_LIST_SUCCESS, data: response.data.data });
+    yield put({type: SAVED_SONGS_LIST_SUCCESS, data: response.data.data});
   } catch (error) {
-    yield put({ type: SAVED_SONGS_LIST_FAILURE, error: error });
+    yield put({type: SAVED_SONGS_LIST_FAILURE, error: error});
   }
 }
 
@@ -73,22 +79,29 @@ export function* unsaveSongAction(action) {
 
     const response = yield call(getApi, `song/remove/${action.id}`, Header);
 
-    yield put({ type: UNSAVE_SONG_SUCCESS, data: response.data });
+    yield put({type: UNSAVE_SONG_SUCCESS, data: response.data});
   } catch (error) {
-    yield put({ type: UNSAVE_SONG_FAILURE, error: error });
+    yield put({type: UNSAVE_SONG_FAILURE, error: error});
   }
 }
 
 export function* saveSongRefAction(action) {
   try {
-    yield put({ type: SAVE_SONG_REFERENCE_SUCCESS, data: action.object });
+    yield put({type: SAVE_SONG_REFERENCE_SUCCESS, data: action.object});
   } catch (error) {
-    yield put({ type: SAVE_SONG_REFERENCE_FAILURE, error: error });
+    yield put({type: SAVE_SONG_REFERENCE_FAILURE, error: error});
   }
 }
 
 export function* getTop50Song() {
   const items = yield select(getItems);
+  const spotifyToken = yield call(getSpotifyToken);
+  const AppleToken = yield call(getAppleDevToken);
+
+  let spotifyHeader = {
+    Authorization:
+      items.registerType === 'spotify' ? `${spotifyToken}` : `${AppleToken}`,
+  };
 
   const Header = {
     Accept: 'application/json',
@@ -97,10 +110,46 @@ export function* getTop50Song() {
   };
 
   try {
-    let response = yield call(getApi, 'post/topfifty', Header);
-    yield put({ type: TOP_50_SONGS_SUCCESS, data: response.data.data });
+    if (items.registerType === 'spotify') {
+      const response = yield call(
+        getAppleDevelopersToken,
+        // `https://api.spotify.com/v1/browse/featured-playlists`,
+        "https://api.spotify.com/v1/playlists/37i9dQZEVXbMDoHDwVN2tF",
+        spotifyHeader,
+      );
+      const jsonResponse = JSON.parse(response?.request?._response);
+      // console.log(jsonResponse,'kdjfhd')
+      // const songsArray = jsonResponse?.playlists?.items ?? [];
+      const songsArray = jsonResponse?.tracks?.items ?? [];
+
+      // console.log(
+      //   JSON.stringify(jsonResponse?.playlists?.items),
+      //   'jdhfjksdhfds',
+      // );
+      // return;
+      yield put({
+        type: TOP_50_SONGS_SUCCESS,
+        data: songsArray,
+      });
+    } else {
+      // let response = yield call(getApi, 'post/topfifty', Header);
+      // yield put({ type: TOP_50_SONGS_SUCCESS, data: response.data.data });
+
+      const response = yield call(
+        getAppleDevelopersToken,
+        `https://api.music.apple.com/v1/catalog/us/charts?types=songs&limit=20`,
+        spotifyHeader,
+      );
+      const jsonResponse = JSON.parse(response?.request?._response);
+      const songsArray = jsonResponse?.results?.songs?.[0]?.data ?? [];
+      // return;
+      yield put({
+        type: TOP_50_SONGS_SUCCESS,
+        data: songsArray,
+      });
+    }
   } catch (error) {
-    yield put({ type: TOP_50_SONGS_FAILURE, error: error });
+    yield put({type: TOP_50_SONGS_FAILURE, error: error});
   }
 }
 
diff --git a/src/widgets/MusicPlayerBar.js b/src/widgets/MusicPlayerBar.js
index 73da514..929f700 100644
--- a/src/widgets/MusicPlayerBar.js
+++ b/src/widgets/MusicPlayerBar.js
@@ -49,8 +49,6 @@ function MusicPlayerBar(props) {
   } = usePlayFullAppleMusic();
 
   const {progress, duration} = useMusicPlayer();
-
-  console.log(progress, duration, 'thi is progress and the duration');
   const percentage = duration > 0 ? (progress / duration) * 100 : 0;
 
   const {
@@ -93,7 +91,7 @@ function MusicPlayerBar(props) {
     setTimeout(() => {
       setBool(false);
     }, 1000);
-  });
+  }, []);
 
   function getPlatingState() {
     setTimeout(() => {
@@ -209,8 +207,9 @@ function MusicPlayerBar(props) {
       }}>
       <Loader visible={bool} />
       {Platform.OS === 'ios' &&
-      (props.playingSongRef?.regType == 'apple' &&
-      currentSongData?.id == props.playingSongRef?.apple_song_id && haveAppleMusicSubscription) ? (
+      props.playingSongRef?.regType == 'apple' &&
+      currentSongData?.id == props.playingSongRef?.apple_song_id &&
+      haveAppleMusicSubscription ? (
         <View
           style={{
             height: normalise(2),
